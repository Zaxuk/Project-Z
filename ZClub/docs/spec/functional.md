# ZClub 积分系统功能需求文档

## 1. 系统概述

ZClub 是一个面向家庭的积分管理系统，旨在通过积分机制激励孩子完成学习任务、家务劳动等活动。孩子可以通过完成任务赚取积分（称为Z币），并使用积分兑换游戏时间、零花钱、零食等奖励。

## 2. 核心功能

### 2.1 用户管理

#### 2.1.1 角色定义
- **管理员**：系统最高权限，负责系统设置（包括临时任务积分奖励最大值设置、任务审批等级和积分倍率管理）、用户管理、创建和管理孩子账户、创建和管理所有类型的任务等
- **普通家长**：可以创建临时任务、为临时任务设置积分奖励、审批积分、查看孩子账户
- **孩子**：系统用户，完成任务赚取积分，使用积分兑换奖励

#### 2.1.2 账户管理
- **注册功能**：用户可以注册成为管理员，默认注册的用户为管理员角色
- 支持多家长功能，一个家庭可以有多个家长账户
- 家长可以是管理员或普通家长角色
- 管理员可以创建多个孩子账户
- 普通家长不能创建孩子账户
- 每个孩子账户有独立的积分余额和任务历史
- 管理员可以设置孩子账户的基本信息（姓名、年龄等）
- 管理员可以管理所有家长和孩子账户
- 普通家长只能查看家庭内的孩子账户（不能创建和管理）

#### 2.1.3 家庭管理
- **家庭创建**：管理员可以创建家庭，设置家庭名称
- **家长邀请**：管理员可以邀请其他家长加入家庭
- **成员管理**：管理员可以管理家庭成员，包括添加/移除家长和孩子
- **权限设置**：管理员可以设置家长的权限级别，如任务审批权限、奖励管理权限等

### 2.2 任务管理

#### 2.2.1 任务类型
- **学习任务**：如完成作业、阅读、考试成绩达标等
- **家务任务**：如打扫房间、洗碗、倒垃圾等
- **行为任务**：如遵守时间、礼貌待人、帮助他人等
- **临时任务**：如临时帮忙、特殊任务等

#### 2.2.2 任务创建
- **管理员**：可以创建所有类型的任务，设置任务名称、描述、积分奖励、截止时间、重复规则（可选）
- **普通家长**：只能创建临时任务，设置任务名称、描述、积分奖励、截止时间
- **积分限制**：临时任务的积分奖励最大值由管理员设置，普通家长设置的积分奖励不能超过这个最大值
- **任务类型**：
  - 管理员创建的任务可以设置为一次性任务或周期性任务
  - 临时任务都是一次性的，不需要重复规则

#### 2.2.3 任务管理
- 任务创建后，所有孩子都能看到
- **任务状态**：待执行、待审批、已完成
- **任务审批等级**：默认分为 A、B、C、D 四个等级
- **积分倍率**：A 等级 1.2 倍，B 等级 1.0 倍，C 等级 0.8 倍，D 等级 0.6 倍
- **等级管理**：管理员可以增加或减少等级，调整等级名称和积分倍率

### 2.3 积分管理

#### 2.3.1 积分赚取
- 孩子完成任务后提交申请
- 家长审批通过后，积分自动发放到孩子账户
- 系统记录积分获取的详细历史

#### 2.3.2 积分消耗
- 孩子可以使用积分兑换奖励
- 系统记录积分消耗的详细历史
- 积分余额实时更新

### 2.4 奖励管理

#### 2.4.1 奖励设置
- **系统默认奖励**：提供一些常见的奖励（如游戏时间、零花钱、零食等）
- **管理员自定义**：可以创建自定义奖励，设置奖励名称、描述、所需积分、库存数量（可选）

#### 2.4.2 奖励兑换
- 孩子可以浏览可用奖励并直接兑换
- 兑换成功后，系统自动扣除积分并记录奖励发放

### 2.5 统计与报表

#### 2.5.1 积分统计
- 孩子积分余额和历史记录
- 任务完成率统计
- 积分赚取和消耗趋势图

#### 2.5.2 任务统计
- 任务完成情况分析
- 不同类型任务的完成率
- 任务完成时间分布

### 2.6 通知系统

- 任务创建和分配通知
- 任务完成提醒
- 积分变动通知
- 奖励兑换状态通知
- 家庭邀请通知
- 家庭成员变更通知
- 家庭权限变更通知

## 3. 业务流程

### 3.1 家庭管理流程
1. 管理员注册并登录系统
2. 管理员创建家庭，设置家庭名称
3. 系统生成家庭ID并关联管理员账户
4. 管理员邀请其他家长加入家庭
5. 被邀请家长接受邀请并加入家庭
6. 管理员添加孩子账户到家庭

### 3.2 任务流程
1. 管理员可以创建所有类型的任务并设置积分奖励
2. 普通家长只能创建临时任务并设置积分奖励
3. 临时任务的积分奖励最大值由管理员设置，普通家长设置的积分奖励不能超过这个最大值
4. 任务创建后，状态为"待执行"，所有孩子都能看到
5. 孩子查看并完成任务，提交完成申请
6. 任务状态变为"待审批"
7. 任意家长或管理员审批任务完成情况并打分
8. 系统根据审批等级的积分倍率计算最终积分
9. 审批通过后，任务状态变为"已完成"，系统自动发放积分

### 3.3 奖励兑换流程
1. **管理员创建奖励并设置所需积分**
2. 孩子浏览可用奖励
3. 孩子选择奖励并直接兑换
4. 系统自动扣除积分并记录奖励发放

### 3.4 多家长协作流程
1. 管理员创建家庭并邀请其他家长加入家庭
2. 被邀请家长接受邀请后成为家庭一员
3. 所有家长可以查看家庭内的所有任务、奖励和积分记录
4. **管理员可以创建所有类型的任务和奖励**
5. **普通家长只能创建临时任务并设置积分奖励**（积分奖励不能超过管理员设置的最大值）
6. 任意家长可以审批任务完成申请
7. **只有管理员可以管理家庭和成员**

## 4. 用户界面需求

### 4.1 家长界面
- **仪表盘**：概览所有孩子的积分情况和任务状态
- **任务管理**：创建、编辑任务（普通家长只能创建临时任务并设置积分奖励）
- **奖励管理**：创建、编辑奖励（仅管理员）
- **审批中心**：审批任务完成申请（包括任务打分）
- **报表中心**：查看积分和任务统计报表
- **家庭管理**：邀请其他家长加入家庭、管理家庭成员（仅管理员）
- **用户管理**：管理家长和孩子账户（仅管理员）
- **系统设置**：临时任务积分奖励最大值设置、任务审批等级和积分倍率管理（仅管理员）

### 4.2 孩子界面
- **任务列表**：查看所有可用任务
- **奖励商城**：浏览和兑换奖励
- **积分记录**：查看积分获取和消耗历史
- **个人中心**：查看个人信息和积分余额

## 5. 非功能性需求

### 5.1 安全性
- 家长账户需要密码保护
- 孩子账户可以设置简单密码或 PIN 码
- 所有敏感操作需要家长授权

### 5.2 可用性
- 界面简洁直观，适合孩子使用
- 响应式设计，支持移动端访问
- 操作流程简单明了

### 5.3 性能
- 页面加载时间不超过 2 秒
- 积分更新实时反映
- 系统能够处理多个孩子账户同时操作

## 6. 未来扩展

- 任务模板库
- 积分排行榜
- 成就系统
- 与智能家居设备集成
- 移动端应用