# 变更日志

本文件记录项目的重要变更。

## [2026-02-28] v0.1.0 - 初始版本

### 新增功能

#### 禅道自动化助手 (ZenTao Helper)
- **FR-1.1**: 实现查询指派给我的需求列表
- **FR-1.2**: 实现查询指派给我的任务列表
- **FR-2.1**: 实现任务拆解功能
- **FR-2.2**: 实现任务分配功能
- **FR-3.1**: 支持中英文混合自然语言指令
- **FR-3.2**: 实现智能解析任务ID、用户名等实体
- **FR-3.3**: 支持从自然语言中提取子任务名称
- **FR-4.1**: 实现交互式登录，密码不存储
- **FR-4.2**: 实现会话信息加密存储
- **FR-4.3**: 实现会话过期自动检测和重新登录

### 技术实现

#### 核心模块
- **NLP 模块**: 意图分类器、实体提取器、命令解析器
- **认证模块**: 会话管理器（加密存储）
- **API 层**: 禅道 API 客户端（含重试机制）
- **业务层**: 需求收集器、任务收集器、任务拆解器、任务分配器
- **工具层**: 结构化日志、统一响应、配置加载

#### 架构设计
- 符合 Manifesto 要求的统一 API 响应结构
- 防腐层设计，统一转换禅道 API 数据
- 指数退避重试策略
- 预留 LLM API 扩展接口

### 文档更新
- 创建 `docs/spec/functional.md` - 功能需求规格说明书
- 创建 `docs/design/architecture.md` - 技术架构文档
- 创建 `docs/changelog.md` - 变更日志（本文件）
- 创建 `docs/current_status.md` - 系统现状快照

### 配置文件
- `config/settings.yaml` - 禅道服务器配置
- `requirements.txt` - Python 依赖

### 测试
- 创建 `test_skill.py` - 功能测试脚本
- 验证命令解析、显示格式、API 响应结构

### 已知问题
- iFlow Skill 注册机制待完善，当前无法通过 `/iflow` 命令调用
- 需要交互式登录，非交互式环境无法使用

### 待办事项
- [ ] 完善单元测试覆盖率（目标 >80%）
- [ ] 添加集成测试
- [ ] 优化 NLP 意图识别准确率
- [ ] 添加更多禅道功能（创建 Bug、添加备注等）
- [ ] 集成 iFlow Skill 注册机制

---

## 变更记录格式

每个版本变更包含以下部分：
- 新增功能
- 技术实现
- 文档更新
- 配置文件
- 测试
- 已知问题
- 待办事项