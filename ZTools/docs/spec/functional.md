# 功能需求规格说明书

## 1. 项目概述

ZTools 是一个日常办公自动化工具集，通过 iFlow Skill 机制提供各种自动化功能。

## 2. 核心功能

### 2.1 禅道自动化助手 (ZenTao Helper)

#### 2.1.1 功能描述
提供禅道项目管理的自动化操作能力，通过自然语言指令完成日常事务。

#### 2.1.2 用户故事
作为开发人员，我希望能通过简单的自然语言指令快速查看和处理禅道中的任务和需求，以提高工作效率。

#### 2.1.3 功能需求

**FR-1: 信息收集**

| 需求ID | 描述 | 优先级 |
|--------|------|--------|
| FR-1.1 | 查询指派给我的需求列表 | P0 |
| FR-1.2 | 查询指派给我的任务列表 | P0 |
| FR-1.3 | 支持按状态过滤需求/任务 | P1 |

**FR-2: 自动化操作**

| 需求ID | 描述 | 优先级 |
|--------|------|--------|
| FR-2.1 | 任务拆解：将一个任务拆解为多个子任务 | P0 |
| FR-2.2 | 任务分配：将任务分配给指定用户 | P0 |

**FR-3: 自然语言交互**

| 需求ID | 描述 | 优先级 |
|--------|------|--------|
| FR-3.1 | 支持中英文混合指令 | P0 |
| FR-3.2 | 智能解析任务ID、用户名等实体 | P0 |
| FR-3.3 | 支持从自然语言中提取子任务名称 | P1 |

**FR-4: 安全认证**

| 需求ID | 描述 | 优先级 |
|--------|------|--------|
| FR-4.1 | 交互式登录，密码不存储 | P0 |
| FR-4.2 | 会话信息加密存储 | P0 |
| FR-4.3 | 会话过期自动检测和重新登录 | P0 |

#### 2.1.4 使用场景

**场景 1: 查看我的需求**
- 用户输入："查看我的需求"
- 系统返回：指派给该用户的需求列表，包含状态、优先级等信息

**场景 2: 查看我的任务**
- 用户输入："显示任务列表"
- 系统返回：指派给该用户的任务列表，按状态分组显示

**场景 3: 任务拆解**
- 用户输入："拆解任务#123为前端开发和后端开发"
- 系统自动提取任务ID和子任务名称，创建子任务并返回结果

**场景 4: 任务分配**
- 用户输入："把任务#456分配给张三"
- 系统提取任务ID和用户名，执行分配操作并返回结果

#### 2.1.5 非功能需求

- 响应时间：API 调用应在 3 秒内完成
- 可用性：支持网络异常自动重试（最多 3 次）
- 安全性：密码仅在内存中存在，不写入任何文件
- 扩展性：预留 LLM API 接口，支持未来升级自然语言理解能力

## 3. 未来功能规划

### 3.1 其他自动化工具
- 邮件自动化
- 文档自动生成
- 数据报表自动化

### 3.2 更多禅道功能
- 创建 Bug
- 添加备注
- 更新任务状态
- 生成工时报告

## 4. 需求变更记录

| 版本 | 日期 | 变更内容 | 变更人 |
|------|------|----------|--------|
| v1.0 | 2026-02-28 | 初始版本，定义禅道自动化助手功能需求 | AI |